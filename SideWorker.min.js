if("undefined"!=typeof document)function SideWorker(t,e){if(t=t||"SideWorker.min.js",this.worker=new Worker(t+"#newWorker"),this.func=!1,this._cb={},this.callFunction=function(t,e){for(var n=e.length,i=[];n--;)i.push(e[n]);this.worker.postMessage(t),this.worker.postMessage(i)},this.method=function(t,e,n){this.callFunction("method",[t,e.toString()]),this[t]=function(){this.callFunction(t,arguments)}.bind(this),this._cb[t]=n||!1}.bind(this),this.worker.addEventListener("message",function(t){this.func?(this._cb[this.func]&&this._cb[this.func](t.data),this.func=!1):this.func=t.data}.bind(this)),e){this.method("init",e);var n=1===arguments.length?[arguments[0]]:Array.apply(null,arguments).sort();n.pop(),this.init.apply(this,n)}}else{function SideWorker(){this.func=!1,this.debug=!1,this.method=function(strfunc,name){eval("var func = "+strfunc),this[name]=function(){var t=func.apply(this,arguments);self.postMessage(name),self.postMessage(t),this.func=!1}}}SideWorker.prototype.loadLibrary=function(){importScripts().call(arguments)},worker=new SideWorker,self.addEventListener("message",(function(t){if(!1===worker.func)worker.func=t.data,worker[worker.func]||console.log("ERROR! FUNCTION NOT DEFINED!");else{var e=worker.func;worker.func=!1;var n=[];for(var i in t.data)n.push(t.data[i]);worker.debug&&console.log("Calling "+e+"."),worker[e]?worker[e].apply(worker,n):console.log("ERROR! FUNCTION NOT DEFINED!")}}))}